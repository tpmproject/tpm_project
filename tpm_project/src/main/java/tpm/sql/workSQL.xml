<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="tpm.work">
	<select id="projectMember"  resultType="tpm.member.model.MemberDTO">
	select m.*
	from
    (tpm_member)m,
    (select member_idx from tpm_project_member where project_idx=#{project_idx})pm
	where m.member_idx =pm.member_idx
	</select>
	<select id="workList" parameterType="tpm.work.model.WorkDTO" resultType="tpm.work.model.WorkDTO">
	select * from tpm_work where work_idx=#{work_idx}
	</select>
	<select id="workMember" parameterType="tpm.work.model.WorkDTO" resultType="tpm.work.model.WorkDTO">
	select * from tpm_member 
	where member_idx in(select member_idx from tpm_work_member 
	where work_idx=#{work_idx})
	</select>
</mapper>